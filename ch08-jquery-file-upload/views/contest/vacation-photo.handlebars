<div><form class="form-horizontal" role="form" enctype="multipart/form-data" method="POST"
	action="/contest/vacation-photo/{{year}}/{{month}}">
	<div class="form-group">
		<label for="fieldName" class="col-sm-2 control-label">Name</label>
		<div class="col-sm-4">
			<input type="text" class="form-control" id="fieldName" name="name">
		</div>
	</div>
	<div class="form-group">
		<label for="fieldEmail" class="col-sm-2 control-label">Email</label>
		<div class="col-sm-4">
			<input type="email" class="form-control" required id="fieldEmail" name="email">
		</div>
	</div>
	<div class="form-group">
		<label for="fieldPhoto" class="col-sm-2 control-label">Vacation photo</label>
		<div class="col-sm-4">
			<span class="btn btn-default btn-file">
				Upload
				<input type="file" class="form-control" required accept="image/*" id="fieldPhoto" data-url="/upload"
					multiple name="photo">
			</span>
			<div id="fileUploads"></div>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-4">
			<button type="submit" class="btn btn-primary">Submit</button>
		</div>
	</div>
</form>
</div>


{{#section 'jquery'}}
<div>this section</div>
<script>   $(document).ready(function () {
	console.log('.form-horizontal');
    $('.form-horizontal').on('submit', function (evt) {
        evt.preventDefault();
        var action = $(this).attr('action');
        var $container = $(this).closest('div');
        $.ajax({
            url: action,
            type: 'POST',
            data: $(this).serialize(),
            success: function (data) {
                if (data.success) {
					console.log(data);
                    $container.html('<h2>Спасибо!</h2>');
                } else {
                    $container.html('Возникла проблема.');
                }
            },
            error: function () {
				console.log("error");
                $container.html('Возникла проблема.');
            }
        });
    });
});
      </script>
{{/section}}